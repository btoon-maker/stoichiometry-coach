<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guided Practice Generator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand-mark" aria-hidden="true"></div>
      <div>
        <h1>Guided Practice Generator</h1>
        <p class="subtitle">Build the dimensional analysis setup — drag factors, flip them, and cancel units.</p>
      </div>
    </div>
    <nav class="nav">
      <a class="navlink" href="index.html">Mole Map Coach</a>
      <a class="navlink active" href="guided.html">Guided Practice</a>
      <a class="navlink" href="practice.html">Independent Practice</a>
    </nav>
  </header>

  <main class="container">
    <section class="card">
      <div class="row-between">
        <h2>Guided problem</h2>
        <button id="newGuided" class="btn">New problem</button>
      </div>

      <div id="guidedProblemText" class="problemText"></div>

      <div class="guidedStack">

        <!-- STEP 1 -->
        <div class="guidedRow">
          <h3 class="h3">Step 1: Choose the path</h3>
          <p class="muted">Pick which moves you need from the Mole Map.</p>

          <div class="pathChecks horiz" id="pathChecks"></div>

          <div class="miniNote">
            <strong>Goal:</strong> Your path should be convert → ratio → convert.
          </div>
        </div>

        <!-- STEP 2 -->
        <div class="guidedRow">
          <h3 class="h3">Step 2: Build the setup</h3>
          <p class="muted">
            Drag a factor into each box. If it’s upside down, click <strong>Flip</strong>.
            Use the <strong>×</strong> signs as a reminder to multiply across.
            <strong>We’re not showing the final unit/answer here</strong> — just check your setup.
          </p>

          <div class="equationBox">
            <!-- ✅ NO SCROLL: this line wraps instead of scrolling -->
            <div class="daLine" aria-label="Dimensional analysis setup line">

              <div class="givenBox">
                <div class="frac">
                  <div class="num inlineNum">
                    <input id="givenValue" class="input small" />
                    <span id="givenUnit" class="unitTag">g A</span>
                  </div>
                  <div class="bar"></div>
                  <div class="den"><span class="muted" style="font-weight:800;">1</span></div>
                </div>
              </div>

              <span class="times" aria-hidden="true">×</span>

              <div id="slots" class="slotsHoriz"></div>

              <span class="times" aria-hidden="true">=</span>

              <div class="equalsBox">
                <span class="unitTag unitTagNeutral" id="targetUnitTag">final</span>
              </div>
            </div>

            <div class="actions">
              <button id="checkSetup" class="btn primary">Check my setup</button>
              <button id="showCorrectSetup" class="btn">Show correct setup</button>
            </div>

            <div id="setupFeedback" class="feedback" aria-live="polite"></div>
          </div>
        </div>

        <!-- FACTOR BANK -->
        <div class="guidedRow">
          <h3 class="h3">Factor bank</h3>
          <p class="muted">Drag these into the slots.</p>

          <div id="bank" class="bank bankRow"></div>

          <details class="note">
            <summary>How the tool checks you</summary>
            <ul class="bullets">
              <li>It confirms you chose the correct path moves.</li>
              <li>It checks each factor type (molar mass, mole ratio, etc.).</li>
              <li>It checks orientation so units cancel in the correct direction.</li>
            </ul>
          </details>
        </div>

        <!-- STEP 3 -->
        <div class="guidedRow lastStep">
          <h3 class="h3">Step 3: Multiply the numbers (then divide)</h3>
          <p class="muted">
            Once your setup is correct, calculate like this:
            multiply all <strong>numerator</strong> numbers together, multiply all <strong>denominator</strong> numbers together, then divide.
          </p>

          <div class="calcCard">
            <div class="calcExample">
              <div class="calcLabel">Example method:</div>
              <div class="calcLine">
                (<span class="calcGroup">numerators</span>) ÷ (<span class="calcGroup">denominators</span>)
              </div>
              <div class="muted" style="margin-top:6px;">
                Multiply everything on top, multiply everything on bottom, then divide.
              </div>
            </div>

            <div class="finalAnswerArea">
              <div class="finalInputs">
                <div>
                  <label for="finalAnswer" class="labelStrong">Your final answer (number only)</label>
                  <input id="finalAnswer" class="input" type="text" inputmode="decimal" placeholder="e.g., 31.5" />
                </div>
                <div class="finalBtnCol">
                  <button id="checkFinal" class="btn primary">Check my final answer</button>
                  <button id="revealFinal" class="btn">Show expected answer</button>
                </div>
              </div>

              <div id="finalFeedback" class="feedback" aria-live="polite"></div>
            </div>
          </div>
        </div>

      </div>
    </section>
  </main>

  <footer class="footer">
    <span class="muted">Guided Practice focuses on setup + unit cancellation, then calculation confidence.</span>
  </footer>

  <script src="guided.js"></script>
</body>
</html>
